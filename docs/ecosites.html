<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Ecosites | NRCS Ecologist FAQs</title>
  <meta name="description" content="This is a compilation of FAQs for NRCS Ecologists." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Ecosites | NRCS Ecologist FAQs" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a compilation of FAQs for NRCS Ecologists." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Ecosites | NRCS Ecologist FAQs" />
  
  <meta name="twitter:description" content="This is a compilation of FAQs for NRCS Ecologists." />
  

<meta name="author" content="Nathan Roe - nateroe@gmail.com" />


<meta name="date" content="2025-03-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="components.html"/>
<link rel="next" href="species.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ESS FAQs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#odbc-connection"><i class="fa fa-check"></i><b>1.2</b> ODBC Connection</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#standard"><i class="fa fa-check"></i><b>1.3</b> Standard dataset/packages</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mapunits.html"><a href="mapunits.html"><i class="fa fa-check"></i><b>2</b> Mapunits</a>
<ul>
<li class="chapter" data-level="2.1" data-path="mapunits.html"><a href="mapunits.html#mapunitsinMLRA"><i class="fa fa-check"></i><b>2.1</b> What mapunits are in an MLRA?</a></li>
<li class="chapter" data-level="2.2" data-path="mapunits.html"><a href="mapunits.html#mapunitsinSSA"><i class="fa fa-check"></i><b>2.2</b> What mapunits are in a Soil Survey Area?</a></li>
<li class="chapter" data-level="2.3" data-path="mapunits.html"><a href="mapunits.html#mapping-mapunits"><i class="fa fa-check"></i><b>2.3</b> Mapping mapunits</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="components.html"><a href="components.html"><i class="fa fa-check"></i><b>3</b> Components</a>
<ul>
<li class="chapter" data-level="3.1" data-path="components.html"><a href="components.html#componentsinMLRA"><i class="fa fa-check"></i><b>3.1</b> Identify components in MLRA?</a></li>
<li class="chapter" data-level="3.2" data-path="components.html"><a href="components.html#identify-components-in-soil-survey-area"><i class="fa fa-check"></i><b>3.2</b> Identify components in Soil Survey Area?</a></li>
<li class="chapter" data-level="3.3" data-path="components.html"><a href="components.html#existing-component-ecosite-correlations"><i class="fa fa-check"></i><b>3.3</b> Existing component, ecosite correlations</a></li>
<li class="chapter" data-level="3.4" data-path="components.html"><a href="components.html#components-correlated-to-an-ecosite-of-interest"><i class="fa fa-check"></i><b>3.4</b> Components correlated to an ecosite of interest?</a></li>
<li class="chapter" data-level="3.5" data-path="components.html"><a href="components.html#ecological-characteristics-of-components-non-programmatic"><i class="fa fa-check"></i><b>3.5</b> Ecological characteristics of components? (non-programmatic)</a></li>
<li class="chapter" data-level="3.6" data-path="components.html"><a href="components.html#ecological-characteristics-of-components-programmatic"><i class="fa fa-check"></i><b>3.6</b> Ecological characteristics of components? (programmatic)</a></li>
<li class="chapter" data-level="3.7" data-path="components.html"><a href="components.html#where-do-components-occur"><i class="fa fa-check"></i><b>3.7</b> Where do components occur?</a></li>
<li class="chapter" data-level="3.8" data-path="components.html"><a href="components.html#how-to-correlate-components-to-ecosites"><i class="fa fa-check"></i><b>3.8</b> How to correlate components to ecosites?</a></li>
<li class="chapter" data-level="3.9" data-path="components.html"><a href="components.html#how-to-qc-the-correlation-between"><i class="fa fa-check"></i><b>3.9</b> How to QC the correlation between</a></li>
<li class="chapter" data-level="3.10" data-path="components.html"><a href="components.html#test-section"><i class="fa fa-check"></i><b>3.10</b> Test section</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ecosites.html"><a href="ecosites.html"><i class="fa fa-check"></i><b>4</b> Ecosites</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ecosites.html"><a href="ecosites.html#what-ecosites-are-active-in-an-mlra"><i class="fa fa-check"></i><b>4.1</b> What ecosites are active in an MLRA?</a></li>
<li class="chapter" data-level="4.2" data-path="ecosites.html"><a href="ecosites.html#range-in-characteristics-of-ecosites"><i class="fa fa-check"></i><b>4.2</b> Range in characteristics of ecosites</a></li>
<li class="chapter" data-level="4.3" data-path="ecosites.html"><a href="ecosites.html#mapping-ecological-sites"><i class="fa fa-check"></i><b>4.3</b> Mapping ecological sites</a></li>
<li class="chapter" data-level="4.4" data-path="ecosites.html"><a href="ecosites.html#climate"><i class="fa fa-check"></i><b>4.4</b> Climate</a></li>
<li class="chapter" data-level="4.5" data-path="ecosites.html"><a href="ecosites.html#associated-sites"><i class="fa fa-check"></i><b>4.5</b> Associated sites</a></li>
<li class="chapter" data-level="4.6" data-path="ecosites.html"><a href="ecosites.html#determine-acreage-of-single-ecological-site"><i class="fa fa-check"></i><b>4.6</b> Determine acreage of single ecological site</a></li>
<li class="chapter" data-level="4.7" data-path="ecosites.html"><a href="ecosites.html#determine-acreage-of-multiple-ecological-sites"><i class="fa fa-check"></i><b>4.7</b> Determine acreage of multiple ecological sites</a></li>
<li class="chapter" data-level="4.8" data-path="ecosites.html"><a href="ecosites.html#plotveg"><i class="fa fa-check"></i><b>4.8</b> Accessing plot level vegetation data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="species.html"><a href="species.html"><i class="fa fa-check"></i><b>5</b> Species</a>
<ul>
<li class="chapter" data-level="5.1" data-path="species.html"><a href="species.html#creating-a-species-list"><i class="fa fa-check"></i><b>5.1</b> Creating a species list</a></li>
<li class="chapter" data-level="5.2" data-path="species.html"><a href="species.html#working-with-vegetation-data"><i class="fa fa-check"></i><b>5.2</b> Working with vegetation data</a></li>
<li class="chapter" data-level="5.3" data-path="species.html"><a href="species.html#mapping-the-location-of-species"><i class="fa fa-check"></i><b>5.3</b> Mapping the location of species</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nasis.html"><a href="nasis.html"><i class="fa fa-check"></i><b>6</b> NASIS</a>
<ul>
<li class="chapter" data-level="6.1" data-path="nasis.html"><a href="nasis.html#creating-a-static-nasis-database"><i class="fa fa-check"></i><b>6.1</b> Creating a Static NASIS database</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="es-verification.html"><a href="es-verification.html"><i class="fa fa-check"></i><b>7</b> ES Verification</a>
<ul>
<li class="chapter" data-level="7.1" data-path="es-verification.html"><a href="es-verification.html#prioritization"><i class="fa fa-check"></i><b>7.1</b> Prioritization</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="es-verification.html"><a href="es-verification.html#guidance-from-national-instruction"><i class="fa fa-check"></i><b>7.1.1</b> Guidance from National Instruction</a></li>
<li class="chapter" data-level="7.1.2" data-path="es-verification.html"><a href="es-verification.html#goal-of-with-workflow"><i class="fa fa-check"></i><b>7.1.2</b> Goal of with workflow</a></li>
<li class="chapter" data-level="7.1.3" data-path="es-verification.html"><a href="es-verification.html#youtube-summary"><i class="fa fa-check"></i><b>7.1.3</b> YouTube summary</a></li>
<li class="chapter" data-level="7.1.4" data-path="es-verification.html"><a href="es-verification.html#querying-nasis"><i class="fa fa-check"></i><b>7.1.4</b> Querying NASIS</a></li>
<li class="chapter" data-level="7.1.5" data-path="es-verification.html"><a href="es-verification.html#run-workflow"><i class="fa fa-check"></i><b>7.1.5</b> Run workflow</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="package-buildingmaintaining-tips.html"><a href="package-buildingmaintaining-tips.html"><i class="fa fa-check"></i><b>8</b> Package building/maintaining tips</a>
<ul>
<li class="chapter" data-level="8.1" data-path="package-buildingmaintaining-tips.html"><a href="package-buildingmaintaining-tips.html#package-buildingmaintaining-tips-1"><i class="fa fa-check"></i><b>8.1</b> Package building/maintaining tips</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="random-tools.html"><a href="random-tools.html"><i class="fa fa-check"></i><b>9</b> Random tools</a>
<ul>
<li class="chapter" data-level="9.1" data-path="random-tools.html"><a href="random-tools.html#organizing-scanned-data"><i class="fa fa-check"></i><b>9.1</b> Organizing scanned data</a></li>
<li class="chapter" data-level="9.2" data-path="random-tools.html"><a href="random-tools.html#comparing-bray-curtis-and-jaccard-dissimilarity-measures"><i class="fa fa-check"></i><b>9.2</b> Comparing Bray-Curtis and Jaccard (dis)similarity measures</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NRCS Ecologist FAQs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ecosites" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Ecosites<a href="ecosites.html#ecosites" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="what-ecosites-are-active-in-an-mlra" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> What ecosites are active in an MLRA?<a href="ecosites.html#what-ecosites-are-active-in-an-mlra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Load the <a href="index.html#standard">Standard Dataset and packages</a>.</p>
<p>Then, we simply need to call the ecosite IDs or ecosite names, depending on your preference. Remember, remove <code>head()</code> to see the full list.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="ecosites.html#cb36-1" tabindex="-1"></a><span class="fu">head</span>(my.components.MLRA<span class="sc">$</span>ecosite_id)</span></code></pre></div>
<pre><code>## [1] &quot;F018XI207CA&quot; NA            &quot;R018XI101CA&quot; &quot;R018XI101CA&quot; &quot;R018XI101CA&quot;
## [6] &quot;F018XI201CA&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="ecosites.html#cb38-1" tabindex="-1"></a><span class="fu">head</span>(my.components.MLRA<span class="sc">$</span>ecosite_name)</span></code></pre></div>
<pre><code>## [1] &quot;Deep Volcanic Plateaus and Hills&quot;  NA                                 
## [3] &quot;Shallow Latite Ridgetops&quot;          &quot;Shallow Latite Ridgetops&quot;         
## [5] &quot;Shallow Latite Ridgetops&quot;          &quot;Moderately Deep Thermic Foothills&quot;</code></pre>
<p>There are likely NAs (missing values) in the above list. This is because the above considers components are are minor and miscellaneous. We do not correlate ecosites to components that are minor and miscellaneous. It will likely be more useful to remove minor and miscellaneous componets:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="ecosites.html#cb40-1" tabindex="-1"></a>my.components.MLRA.reduced <span class="ot">&lt;-</span> my.components.MLRA <span class="sc">%&gt;%</span> aqp<span class="sc">::</span><span class="fu">site</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="ecosites.html#cb40-2" tabindex="-1"></a>  <span class="fu">filter</span>(compkind <span class="sc">!=</span> <span class="st">&quot;miscellaneous area&quot;</span> <span class="sc">&amp;</span> majcompflag <span class="sc">==</span> <span class="st">&quot;1&quot;</span>)</span>
<span id="cb40-3"><a href="ecosites.html#cb40-3" tabindex="-1"></a><span class="fu">head</span>(my.components.MLRA.reduced<span class="sc">$</span>ecosite_id)</span></code></pre></div>
<pre><code>## [1] &quot;R018XI101CA&quot; &quot;R018XI101CA&quot; &quot;F018XI201CA&quot; &quot;F018XI201CA&quot; &quot;R018XI102CA&quot;
## [6] &quot;R018XI102CA&quot;</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="ecosites.html#cb42-1" tabindex="-1"></a><span class="fu">head</span>(my.components.MLRA.reduced<span class="sc">$</span>ecosite_name)</span></code></pre></div>
<pre><code>## [1] &quot;Shallow Latite Ridgetops&quot;                                                                 
## [2] &quot;Shallow Latite Ridgetops&quot;                                                                 
## [3] &quot;Moderately Deep Thermic Foothills&quot;                                                        
## [4] &quot;Moderately Deep Thermic Foothills&quot;                                                        
## [5] &quot;Thermic Ultramafic Foothills Extremely High Magnesium Content (Ca:Mg Ratio Less Than 0.5)&quot;
## [6] &quot;Thermic Ultramafic Foothills Extremely High Magnesium Content (Ca:Mg Ratio Less Than 0.5)&quot;</code></pre>
<p>We might also be interested to see how often different ecosites are used:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="ecosites.html#cb44-1" tabindex="-1"></a><span class="fu">table</span>(my.components.MLRA.reduced<span class="sc">$</span>ecosite_id) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="ecosites.html#cb44-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Ecosite =</span> Var1) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Freq)) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##       Ecosite Freq
## 1 F022AI201CA   23
## 2 F018XI201CA   22
## 3 F018XI200CA   21
## 4 F022AI202CA   19
## 5 F018XI202CA   17
## 6 F022AG202CA   14</code></pre>
<p>Interesting… the most used ecosites in MLRA18 are ecosite concepts from MLRAs 22a and 17.</p>
</div>
<div id="range-in-characteristics-of-ecosites" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Range in characteristics of ecosites<a href="ecosites.html#range-in-characteristics-of-ecosites" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>I created a report that summarizes the characteristics of ecosites. It is organized based on the information that is supposed to be populated in EDIT. Here is a link to a <a href="https://htmlpreview.github.io/?https://github.com/natearoe/practice/blob/master/F018XA201CA.html">sample report</a>. I have established a methodology allowing you to create reports like the one linked for all of the ecosites in your MLRA within a few short steps. You can also produce the report for just one of your ecosites. For documentation on this methodology, <a href="https://natearoe.github.io/git-cloud-storage/read_me.docx">click here</a>. Click on the green ‘Code’ button and choose ‘Download ZIP’. Once you have downloaded to the location of your preference, you can right click &gt; Extract all. You can then open the read_me.docx file. Additionally, you can watch the following YouTube video:</p>
<iframe src="https://www.youtube.com/embed/9H8sz5fZaEQ?start=19" width="672" height="400px" data-external="1">
</iframe>
</div>
<div id="mapping-ecological-sites" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Mapping ecological sites<a href="ecosites.html#mapping-ecological-sites" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this methodology, the ecological site is mapped in all map units containing a component correlated to the ecological site. The alternative would be to map the ecological site only in map units where the dominant component is correlated to the ecological site of interest. I am more interest in the full extent of the ecological site, so I am using the less restrictive of the two.</p>
<p>Load the <a href="index.html#standard">Standard Dataset and packages</a>.</p>
<p>Load a shapefile of your map unit boundaries (the MLRA boundaries cover the whole country, but you will have to change the map unit boundaries to your local map unit shapefile)</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="ecosites.html#cb46-1" tabindex="-1"></a>mapunit_boundaries <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="st">&quot;C:/Users/Nathan.Roe/Documents/PES/gSSURGO_CA_2022.gdb&quot;</span>,</span>
<span id="cb46-2"><a href="ecosites.html#cb46-2" tabindex="-1"></a>                                  <span class="st">&quot;mupolygon&quot;</span>)</span>
<span id="cb46-3"><a href="ecosites.html#cb46-3" tabindex="-1"></a>mlra_boundaries <span class="ot">&lt;-</span> </span>
<span id="cb46-4"><a href="ecosites.html#cb46-4" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="st">&quot;C:/Users/Nathan.Roe/Documents/PES/MLRA_52_2022/MLRA_52_2022/MLRA_52.shp&quot;</span>)</span></code></pre></div>
<p>What is your ecological site of interest? (change appropriate to your project)</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="ecosites.html#cb47-1" tabindex="-1"></a>ecosite_of_interest <span class="ot">&lt;-</span> <span class="st">&quot;R018XE104CA&quot;</span></span></code></pre></div>
<p>What is your MLRA of interest? (change appropriate to your project)</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="ecosites.html#cb48-1" tabindex="-1"></a>mlra_of_interest <span class="ot">&lt;-</span> <span class="dv">18</span></span></code></pre></div>
<p>Reduce component data to those associated with ecosite of interest</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="ecosites.html#cb49-1" tabindex="-1"></a>my.components.MLRA.reduced <span class="ot">&lt;-</span> aqp<span class="sc">::</span><span class="fu">site</span>(my.components.MLRA) <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="ecosites.html#cb49-2" tabindex="-1"></a>  <span class="fu">filter</span>(ecosite_id <span class="sc">==</span> ecosite_of_interest)</span></code></pre></div>
<p>Reduce mapunits to those associated with ecosite of interest</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="ecosites.html#cb50-1" tabindex="-1"></a>mapunit_boundaries_of_interest <span class="ot">&lt;-</span> mapunit_boundaries <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="ecosites.html#cb50-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(MUKEY <span class="sc">%in%</span> my.components.MLRA.reduced<span class="sc">$</span>muiid) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="ecosites.html#cb50-3" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="st">&quot;+proj=longlat +datum=WGS84&quot;</span>)</span></code></pre></div>
<p>Reduce MLRA boundary to MLRA of interest</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="ecosites.html#cb51-1" tabindex="-1"></a>mlra_boundaries_reduced <span class="ot">&lt;-</span> mlra_boundaries <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="ecosites.html#cb51-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(MLRARSYM <span class="sc">==</span> mlra_of_interest) <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="ecosites.html#cb51-3" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="st">&quot;+proj=longlat +datum=WGS84&quot;</span>)</span></code></pre></div>
<p>Select state of interest (change appropriate to your project, you could select multiple states too)</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="ecosites.html#cb52-1" tabindex="-1"></a>ca <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(maps<span class="sc">::</span><span class="fu">map</span>(<span class="st">&quot;state&quot;</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>, <span class="at">plot =</span> <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="ecosites.html#cb52-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(ID <span class="sc">==</span> <span class="st">&quot;california&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="ecosites.html#cb52-3" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="st">&quot;+proj=longlat +datum=WGS84&quot;</span>)</span></code></pre></div>
<p>Plot map</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="ecosites.html#cb53-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span>  <span class="fu">geom_sf</span>(<span class="at">data =</span> ca) <span class="sc">+</span> </span>
<span id="cb53-2"><a href="ecosites.html#cb53-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> mlra_boundaries_reduced) <span class="sc">+</span> </span>
<span id="cb53-3"><a href="ecosites.html#cb53-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> mapunit_boundaries_of_interest,</span>
<span id="cb53-4"><a href="ecosites.html#cb53-4" tabindex="-1"></a>          <span class="at">col =</span> <span class="st">&quot;hotpink&quot;</span>, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb53-5"><a href="ecosites.html#cb53-5" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Distribution of ecological site - &quot;</span>, ecosite_of_interest))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="climate" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Climate<a href="ecosites.html#climate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At a large scale, climate is the most important abiotic variable affecting the distribution of organisms. In ecological site concept development, it is a critical starting place. This section will introduce functions that can help report the climate associated with an ecoligcal site by summarizing PRISM climate data (<a href="https://prism.oregonstate.edu/" class="uri">https://prism.oregonstate.edu/</a>). PRISM data is 800m raster data that includes precipitation, temperature, vapor pressure, and dew point.</p>
<p>The primary product of PRISM is climate normals. PRISM normals are averages of climate conditions across a 30-year time frame. There are annual normals, monthly normals, and daily normals. There are 365 daily normals (one for each day), 12 monthly normals (one for each month), and only one annual normal. As an example of how normals work, consider precipitation on the 12th day of the year across the time period 1991-2020. There are 30 years of data, each with a 12th day and an associated estimate of precipitation. Those 30 estimates are averaged. The result is the daily normal for the 12th day of the year. The same process can be applied for the other days of the year.</p>
</div>
<div id="associated-sites" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Associated sites<a href="ecosites.html#associated-sites" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Associated sites are ecological sites that occur in the same area of the landscape. The simplest way to think about this is ecological sites that are adjacent to your ecological site of interest. I am going to present a simple way of addressing this. We can determine what ecological sites occur in the same mapunit as your ecosite of interest. Looking at all the mapunits that your ecological site of interest occurs in, and tallying up all of the other ecological sites that are in shared mapunits, we can come to a metric of what other ecological sites tend to be near your ecological site of interest. In the future, I would like to make some improvements to this, so that it considers adjacent mapunits and considers the length of boundary between mapunits.</p>
<p>Load the <a href="index.html#standard">Standard Dataset and packages</a>.</p>
<p>Reduce data how you see fit. I am just going to remove miscellaneous areas, but you could choose additional criteria such as removing minor components.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="ecosites.html#cb54-1" tabindex="-1"></a>my.components.MLRA.reduced <span class="ot">&lt;-</span> my.components.MLRA<span class="sc">@</span>site <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(compkind <span class="sc">!=</span> <span class="st">&quot;miscellaneous area&quot;</span>)</span></code></pre></div>
<p>Calculate the acreage associated with each component</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="ecosites.html#cb55-1" tabindex="-1"></a>my.components.MLRA.reduced<span class="sc">$</span>comp_acres <span class="ot">&lt;-</span> (my.components.MLRA.reduced<span class="sc">$</span>muacres <span class="sc">*</span> my.components.MLRA.reduced<span class="sc">$</span>comppct_r)<span class="sc">/</span><span class="dv">100</span></span></code></pre></div>
<p>Create empty list for upcoming for loop</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="ecosites.html#cb56-1" tabindex="-1"></a>associated_ecosites <span class="ot">&lt;-</span> <span class="fu">list</span>()</span></code></pre></div>
<p>Create for loop to calculate the acreage of ecosites that occur in the same mapunits as your ecosite of interest. The results will be in a list.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="ecosites.html#cb57-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> my.components.MLRA.reduced<span class="sc">$</span>ecosite_id <span class="sc">|&gt;</span> <span class="fu">unique</span>()){</span>
<span id="cb57-2"><a href="ecosites.html#cb57-2" tabindex="-1"></a>  associated_ecosites[[i]] <span class="ot">&lt;-</span> my.components.MLRA.reduced <span class="sc">|&gt;</span> </span>
<span id="cb57-3"><a href="ecosites.html#cb57-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(mukey <span class="sc">%in%</span> (my.components.MLRA.reduced <span class="sc">|&gt;</span> </span>
<span id="cb57-4"><a href="ecosites.html#cb57-4" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">filter</span>(ecosite_id <span class="sc">==</span> i) <span class="sc">|&gt;</span> </span>
<span id="cb57-5"><a href="ecosites.html#cb57-5" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">pull</span>(mukey))) <span class="sc">|&gt;</span> </span>
<span id="cb57-6"><a href="ecosites.html#cb57-6" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(ecosite_id) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">acres =</span> <span class="fu">sum</span>(comp_acres)) <span class="sc">|&gt;</span> </span>
<span id="cb57-7"><a href="ecosites.html#cb57-7" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(ecosite_id <span class="sc">!=</span> i) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(acres))</span>
<span id="cb57-8"><a href="ecosites.html#cb57-8" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s take a look at an example</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="ecosites.html#cb58-1" tabindex="-1"></a>associated_ecosites<span class="sc">$</span>F018XA202CA</span></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="determine-acreage-of-single-ecological-site" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Determine acreage of single ecological site<a href="ecosites.html#determine-acreage-of-single-ecological-site" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>My office leader recently asked me how many acres a particular ecological site occupies because she was entering it as a project in NASIS and needed the associated acres. You might need to do something similar for a NASIS project, a tech team meeting, or to improve your own understanding of how prevalent an ecological site is.</p>
<p>Load the <a href="index.html#standard">Standard Dataset and packages</a>.</p>
<p>First, let’s say we have a particular ecosite of interest - “R018XI105CA”</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="ecosites.html#cb60-1" tabindex="-1"></a>my_ecosite <span class="ot">&lt;-</span> aqp<span class="sc">::</span><span class="fu">site</span>(my.components.MLRA) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(ecosite_id <span class="sc">==</span> <span class="st">&quot;R018XI105CA&quot;</span>)</span></code></pre></div>
<p>Now let’s look at the components correlated to our ecosite of interest, the component percent (percent of mapunit represented by component), the mapunit acres, and calculate the acres associated with each component by multiplying component percent and mapunit acres.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="ecosites.html#cb61-1" tabindex="-1"></a>my_ecosite_compacres <span class="ot">&lt;-</span> my_ecosite <span class="sc">%&gt;%</span> <span class="fu">select</span>(ecosite_id, coiid, comppct_r, muacres) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">comp_acreage =</span> (comppct_r<span class="sc">/</span><span class="dv">100</span>)<span class="sc">*</span>muacres)</span>
<span id="cb61-2"><a href="ecosites.html#cb61-2" tabindex="-1"></a></span>
<span id="cb61-3"><a href="ecosites.html#cb61-3" tabindex="-1"></a><span class="fu">head</span>(my_ecosite_compacres)</span></code></pre></div>
<pre><code>##    ecosite_id   coiid comppct_r muacres comp_acreage
## 1 R018XI105CA 2516892        25    5717      1429.25
## 2 R018XI105CA 2029027        10   34449      3444.90
## 3 R018XI105CA 2500528        17   34449      5856.33
## 4 R018XI105CA 1842728        25    7447      1861.75
## 5 R018XI105CA 2029025        10    7447       744.70
## 6 R018XI105CA 2482828        15   22906      3435.90</code></pre>
<p>Then, we just need to sum the comp_acreage</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="ecosites.html#cb63-1" tabindex="-1"></a><span class="fu">sum</span>(my_ecosite_compacres<span class="sc">$</span>comp_acreage)</span></code></pre></div>
<pre><code>## [1] 30098.78</code></pre>
</div>
<div id="determine-acreage-of-multiple-ecological-sites" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Determine acreage of multiple ecological sites<a href="ecosites.html#determine-acreage-of-multiple-ecological-sites" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s look at how we would efficiently calculate the acreage of all the ecosites in your MLRA.</p>
<p>First, we will restrict the ecosites of interest to only those associate with MLRA 18.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="ecosites.html#cb65-1" tabindex="-1"></a>MLRA18_ecosites <span class="ot">&lt;-</span> my.components.MLRA<span class="sc">$</span>ecosite_id <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">&quot;18X&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span></code></pre></div>
<p>Now we can run a for loop that goes through each ecological site, calculates the acreage, and puts them all in a data frame</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="ecosites.html#cb66-1" tabindex="-1"></a>ecosite_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb66-2"><a href="ecosites.html#cb66-2" tabindex="-1"></a></span>
<span id="cb66-3"><a href="ecosites.html#cb66-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> MLRA18_ecosites){</span>
<span id="cb66-4"><a href="ecosites.html#cb66-4" tabindex="-1"></a>  ecosite_list[[i]] <span class="ot">&lt;-</span> aqp<span class="sc">::</span><span class="fu">site</span>(my.components.MLRA) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(ecosite_id <span class="sc">==</span> i) <span class="sc">%&gt;%</span> <span class="fu">select</span>(ecosite_id, coiid, comppct_r, muacres) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href="ecosites.html#cb66-5" tabindex="-1"></a>                                              <span class="fu">mutate</span>(<span class="at">comp_acreage =</span> (comppct_r<span class="sc">/</span><span class="dv">100</span>)<span class="sc">*</span>muacres) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">Ecosite =</span> <span class="fu">first</span>(ecosite_id), <span class="at">Acreage =</span></span>
<span id="cb66-6"><a href="ecosites.html#cb66-6" tabindex="-1"></a>                                                                                                           <span class="fu">sum</span>(comp_acreage))</span>
<span id="cb66-7"><a href="ecosites.html#cb66-7" tabindex="-1"></a>}</span>
<span id="cb66-8"><a href="ecosites.html#cb66-8" tabindex="-1"></a></span>
<span id="cb66-9"><a href="ecosites.html#cb66-9" tabindex="-1"></a>MLRA18_ecosite_acreage <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, ecosite_list) <span class="sc">%&gt;%</span> <span class="fu">remove_rownames</span>()</span>
<span id="cb66-10"><a href="ecosites.html#cb66-10" tabindex="-1"></a></span>
<span id="cb66-11"><a href="ecosites.html#cb66-11" tabindex="-1"></a><span class="fu">head</span>(MLRA18_ecosite_acreage)</span></code></pre></div>
<pre><code>##       Ecosite   Acreage
## 1 F018XI207CA  19275.91
## 2 R018XI101CA   4999.80
## 3 F018XI201CA 154095.87
## 4 F018XI200CA 111078.29
## 5 F018XI202CA  69860.72
## 6 R018XI102CA  18123.88</code></pre>
</div>
<div id="plotveg" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> Accessing plot level vegetation data<a href="ecosites.html#plotveg" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this process, we are going to look at vegetation data associated with the Sequoia and King’s Canyon National Parks soil survey - CA792. For accessing vegetation data associated with a survey area, use the following query - SSRO_Alaska &gt; ‘Pedon/Site/Vegetation Plot by site area overlap table’. The description for this Query gives the necessary details.</p>
<p>NATIONAL: Have to run this twice against the national in order to get sites, pedons, and vegetation plot. First, set target table to PEDON. Second, set target tablet to VEGETATION PLOT.</p>
<p>LOCAL: Set target tablest to PEDON, SITE, and VEGETATION PLOT.</p>
<ol style="list-style-type: decimal">
<li><p>Run against National - Pedon
<img src="images/veg_plot_national_pedon.JPG" alt="Run against National Vegplot Pedon" /></p></li>
<li><p>Run against National - Vegetation plot
<img src="images/veg_plot_national_vegplot.JPG" alt="Run against National Vegplot Vegetation Plot" /></p></li>
<li><p>Run against Local
<img src="images/veg_plot_local.JPG" alt="Run against local Vegplot" /></p></li>
</ol>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="ecosites.html#cb68-1" tabindex="-1"></a>veg_data <span class="ot">&lt;-</span> soilDB<span class="sc">::</span><span class="fu">fetchVegdata</span>(<span class="at">SS =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>I will return to this to provide some tools for dealing with the actual veg data.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="ecosites.html#cb69-1" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">UserSiteID =</span> veg_data<span class="sc">$</span>vegplot<span class="sc">$</span>site_id, <span class="at">DataOrigin =</span> veg_data<span class="sc">$</span>vegplot<span class="sc">$</span>vegdataorigin)</span>
<span id="cb69-2"><a href="ecosites.html#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="ecosites.html#cb69-3" tabindex="-1"></a><span class="fu">table</span>(test<span class="sc">$</span>DataOrigin)</span></code></pre></div>
<pre><code>## 
## site existing veg table        spreadsheet form 
##                     620                    1006</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="components.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="species.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-ecosites.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
